# Phase 1-1: パスワードのハッシュ化とソルト

## 学習目標
- ハッシュ化と暗号化の違いを理解する
- bcryptの仕組み（ソルト、コスト）を理解する
- パスワード検証の仕組みを理解する

---

## ファイル

| ファイル | 内容 |
|----------|------|
| `hash_demo.go` | bcryptでハッシュ化・検証のデモ |
| `salt_demo.go` | ソルトの効果を可視化するデモ |

---

## 実行方法

```bash
go run hash_demo.go
go run salt_demo.go
```

---

## 学んだこと

### ハッシュ化 vs 暗号化

| | ハッシュ化 | 暗号化 |
|--|-----------|--------|
| 復号 | 不可能（一方向） | 可能（鍵があれば） |
| 用途 | パスワード保存 | 秘密データの保護 |

### bcryptの構造

```
$2a$10$N9qo8uLOPP9a.S1D2.xyz...
 │  │  └─ ソルト + ハッシュ
 │  └── コスト（2^10 = 1024回計算）
 └── アルゴリズム
```

### ソルトの効果

- 同じパスワードでも毎回違うハッシュ値になる
- レインボーテーブル攻撃を無効化する
- bcryptはソルトをハッシュ内に埋め込む

### パスワード検証の流れ

```
1. 保存されたハッシュからソルトを取り出す
2. 入力パスワード + ソルト でハッシュ化
3. 結果を比較 → 一致すれば認証成功
```

---

## Q&A

### Q: なぜ暗号化ではなくハッシュ化？
DBが漏洩しても元のパスワードがわからないようにするため。暗号化は鍵があれば復号できてしまう。

### Q: レインボーテーブル攻撃とは？
事前に計算したハッシュ値の対応表で、DBのハッシュから元のパスワードを逆引きする攻撃。ソルトがあると各ユーザーごとにテーブルが必要になり、事実上不可能になる。

### Q: なぜbcryptは「遅い」ことが良いのか？
総当たり攻撃を困難にするため。SHA256は1秒に数億回計算できるが、bcryptは数千回程度。
